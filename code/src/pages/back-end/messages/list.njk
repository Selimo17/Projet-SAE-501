{% extends "layouts/back-end/base.njk" %}
{% set page_name = "messages" %}

{% import "components/back-end/pagination.njk" as pagination with context %}

{% block main %}
    <div class="bg-white rounded-2xl shadow-md pb-6">
        <header class="mb-1 p-6 pl-8 flex justify-between lg:flex-row flex-col">
            <p class="text-4xl">
            Liste desmessages
                <span class="block text-sm">{{ list_messages.count }} éléments au total</span>
            </p>
           
        </header>

        <table class="w-full table-fixed bg-white rounded-lg overflow-hidden border-collapse">
            <thead class="">
                <tr class="text-slate-800">
                    <th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">Prénom</th>
                    <th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">Nom</th>
                    <th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">E-mail</th>
                    <th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">Type</th>
                    <th class="font-bold pl-8 text-left border-solid border-slate-200 border-b pb-5">Message</th>
                    <th class="pl-8 border-solid border-slate-200 border-b pb-5"></th>
                    <th class="pl-8 border-solid border-slate-200 border-b pb-5"></th>
                </tr>
            </thead>
            <tbody>
                {% for item in list_messages.data %}
                    <tr class="hover:bg-neutral-50">
                        <td class="bg-transparent border-solid border-slate-200 border-b p-4 pl-8" data-label="Prénom">{{ item.firstname }}</td>
                        <td class="p-4 pl-8 bg-transparent border-solid border-slate-200 border-b shadow-transparent" data-label="Nom">
                            <p class="line-clamp-3 md:line-clamp-1" title="{{ item.lastname }}">{{ item.lastname }}</p>
                        </td>
                        <td class="p-4 pl-8 bg-transparent border-solid border-slate-200 border-b shadow-transparent" data-label="E-mail">
                            <p class="line-clamp-3 md:line-clamp-1" title="{{ item.email }}">{{ item.email }}</p>
                        </td>
                        <td class="bg-transparent border-solid border-slate-200 border-b p-4 pl-8" data-label="Type">{{ item.type }}</td>
                        <td class="bg-transparent border-solid border-slate-200 border-b p-4 pl-8" data-label="Message">{{ item.content }}</td>
                        
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="8" class="text-center bg-transparent border-solid border-slate-200 border-b p-4 pl-8">Pas de contenu pour le moment</td>
                    </tr>
                {% endfor %}
                </tbody>
            </tbody>
        </table>
        <footer class="flex justify-between px-4">
            {{ pagination.item(list_messages) }}
        </footer>
    </div>
{% endblock %}
